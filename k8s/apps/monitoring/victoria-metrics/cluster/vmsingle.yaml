# yaml-language-server: $schema=https://crds.jank.ing/operator.victoriametrics.com/vmsingle_v1beta1.json
apiVersion: operator.victoriametrics.com/v1beta1
kind: VMSingle
metadata:
  name: victoria
spec:
  useStrictSecurity: true
  retentionPeriod: "12"
  extraArgs:
    dedup.minScrapeInterval: 30s
    maxLabelsPerTimeseries: "100"
    search.minStalenessInterval: 5m
  storage:
    accessModes: ["ReadWriteOnce"]
    resources:
      requests:
        storage: 150Gi
    storageClassName: ceph-block
  resources:
    requests:
      cpu: 1
      memory: 6Gi
    limits:
      memory: 6Gi
